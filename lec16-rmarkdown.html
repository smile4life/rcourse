<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lina Tran" />


<title>Reproducible workflow, Metadata, and R Markdown</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="icon" type="image/png" href="image/favicon.png">
<style type="text/css">

table {
    border-collapse: collapse;
}

thead {
    border-top: solid #DCDCDC;
    border-bottom: solid #DCDCDC;
}

tr.odd {
    background-color: #F8F8F8;
}

tr:last-child {
    border-bottom: solid #DCDCDC;
}

</style>




<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 54px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h2 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h3 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h4 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h5 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h6 {
  padding-top: 59px;
  margin-top: -59px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">EEB313H1</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-map-o"></span>
     
    Syllabus
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lec01-introduction.html">Sept. 10: Intro to course, programming, RStudio, and R Markdown</a>
    </li>
    <li>
      <a href="lec02-basic-r.html">Sept. 12: Assignment, vectors, functions</a>
    </li>
    <li>
      <a href="lec03-basic-r.html">Sept. 17: Data frames, intro to dplyr</a>
    </li>
    <li>
      <a href="lec04-dplyr.html">Sept. 19: Data wrangling in dplyr, ggplot, tidy data</a>
    </li>
    <li>
      <a href="lec05-dplyr.html">Sept. 24: More dplyr and ggplot</a>
    </li>
    <li class="dropdown-header">Sept. 26: Exploratory data analysis</li>
    <li class="dropdown-header">Oct. 01: Linear models and statistical modelling</li>
    <li class="dropdown-header">Oct. 03: Mixed effects models</li>
    <li class="dropdown-header">Oct. 08: Simulating data: Randomization tests</li>
    <li class="dropdown-header">Oct. 10: Multivariate stats</li>
    <li class="dropdown-header">Oct. 15: Model selection</li>
    <li class="dropdown-header">Oct. 17: Numerically solving population models</li>
    <li class="dropdown-header">Oct. 22: Time series analysis</li>
    <li class="dropdown-header">Oct. 24: Datasets, hypothesis, begin projects</li>
    <li class="dropdown-header">Oct. 29: Reproducible science</li>
    <li class="dropdown-header">Oct. 31: Reproducible science</li>
    <li class="dropdown-header">Nov. 12: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 14: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 19: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 21: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 26: Project work (no lesson)</li>
    <li class="dropdown-header">Nov. 28: Project work (no lesson)</li>
    <li class="dropdown-header">Dec. 03: Project work (no lesson)</li>
    <li class="dropdown-header">Dec. 05: Group presentations (no lesson)</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Assignment 1</li>
    <li class="dropdown-header">Assignment 2</li>
    <li class="dropdown-header">Assignment 3</li>
    <li class="dropdown-header">Assignment 4</li>
    <li class="dropdown-header">Assignment 5</li>
    <li class="dropdown-header">Assignment 6</li>
    <li class="dropdown-header">Assignment 7</li>
    <li class="dropdown-header">Assignment 8</li>
    <li class="dropdown-header">Final project</li>
  </ul>
</li>
<li>
  <a href="resources.html">
    <span class="fa fa-question"></span>
     
    Resources and FAQ
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:ahmed.hasan@mail.utoronto.ca">
        <span class="fa fa-envelope"></span>
         
        Contact
      </a>
    </li>
    <li>
      <a href="https://github.com/uoftcoders/rcourse">
        <span class="fa fa-github"></span>
         
        GitHub
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Reproducible workflow, Metadata, and R Markdown</h1>
<h4 class="author">Lina Tran</h4>

</div>


<div id="lesson-preamble" class="section level2">
<h2>Lesson preamble</h2>
<blockquote>
<h3 id="lesson-objectives">Lesson objectives:</h3>
<ul>
<li>Learn why reproducibility in science is important</li>
<li>Discuss how we can improve reproducibility of our research</li>
<li>RMarkdown formatting: including images, citations, footnotes, and output formats.</li>
</ul>
<h3 id="lesson-outline">Lesson outline:</h3>
<ul>
<li>Reproducible Science (50 min)
<ul>
<li>Introduction to the problem and discussion (20 min)</li>
<li>How we can improve reproducibility (15 min)</li>
<li>What are the barriers to reproducibility? (15 min)</li>
</ul></li>
<li>Metadata (20 min)
<ul>
<li>What is metadata and why do we need it? (10 min)</li>
<li>What are best practices in generating metadata? (10 min)</li>
</ul></li>
<li>Intermediate topics in R Markdown (40 min)
<ul>
<li>Online Tutorial (10 min)</li>
<li>Lists, Tables (5 min)</li>
<li>Images, Figures (5 min)</li>
<li>In-Line Citations &amp; Bibliography (10 min)</li>
<li>Footnotes (5 min)</li>
<li>Output Formatting Options (5 min)</li>
</ul></li>
</ul>
</blockquote>
<hr />
</div>
<div id="reproducible-science" class="section level2">
<h2>Reproducible Science</h2>
<p>What does reproducibility mean to you? Let’s discuss what each of these may entail:</p>
<ul>
<li>Computational reproducibility</li>
<li>Scientific reproducibility</li>
<li>Statistical reproducibility</li>
</ul>
<div id="why-do-we-care-about-reproducibility" class="section level3">
<h3>Why do we care about reproducibility?</h3>
<p>Take 5-10 minutes to read over the following blog post section on <a href="https://bioconnector.org/r-rmarkdown.html#who_cares_about_reproducible_research">reproducibility in science</a> and <a href="https://bioconnector.org/r-rmarkdown.html#what’s_in_it_for_you">what’s in it for you</a>.</p>
<p>Now, let’s discuss the following questions: 1. Why does reproducibility matter in science? 2. What do you think about when you hear the term “open science”? 3. How does open science translate back to the issue of reproducibility - How does it affect collaboration, and the progress of science?</p>
<p>Events of interest supporting Open Science:</p>
<ol style="list-style-type: decimal">
<li><a href="http://www.openaccessweek.org/">Open Access Week</a></li>
<li><a href="https://www.opencon2017.org/">OpenCon 2017</a> sponsored by eLife this year
<ul>
<li><a href="https://www.authorea.com/users/111970/articles/206557-announcing-opencon2017-london-blog-competition">Authorea Blog Competition for OpenCon 2017</a></li>
</ul></li>
</ol>
</div>
<div id="what-are-ways-we-can-make-research-more-reproducible" class="section level3">
<h3>What are ways we can make research more reproducible?</h3>
<ul>
<li>Learning from software engineers who have used continuous integration to keep track of their projects in an automated fashion (helping to prevent from human error) for years. This includes the following:
<ul>
<li>analyses/models are run as scripts that can be replicated on other machines and environments</li>
<li>code is version-controlled (e.g. Git/GitHub)</li>
<li>code is well tested</li>
<li>for a take on “Continuous Analysis”, read this <a href="https://elifesciences.org/labs/e623676c/reproducibility-automated">article from ELife</a> or <a href="https://www.biorxiv.org/content/early/2016/08/11/056473">this article</a> in Nature Biotechnology with everything also <a href="https://github.com/greenelab/continuous_analysis">on GitHub!</a></li>
</ul></li>
<li>For more recommendations on reproducible research, especially as it pertains to coding practices, read more <a href="https://bioconnector.org/r-rmarkdown.html#some_recommendations_for_reproducible_research">here</a></li>
</ul>
</div>
<div id="what-are-the-barriers-to-reproducibility" class="section level3">
<h3>What are the barriers to reproducibility?</h3>
<ul>
<li>Brainstorm reasons why scientists are not readily embracing reproducible science.</li>
</ul>
</div>
<div id="further-reading" class="section level3">
<h3>Further Reading</h3>
<ul>
<li>This book called <a href="https://www.practicereproducibleresearch.org/">Practice Reproducible Research</a> has many high level examples of how reproducible research looks in practice and further reading on the topic</li>
<li>Nature has a series of articles, editorials and research on the <a href="https://www.nature.com/news/reproducibility-1.17552">challenges in reproducible research</a></li>
</ul>
</div>
</div>
<div id="metadata" class="section level2">
<h2>Metadata</h2>
<div id="why-is-metadata-important" class="section level3">
<h3>Why is Metadata Important?</h3>
<p>From the <a href="https://github.com/mozillascience/working-open-workshop/blob/gh-pages/handouts/data_reuse_plan_template.md">Mozilla Science WOW Data Reuse Template</a>:</p>
<blockquote>
<p>Standard Metadata: Increasingly, scientific fields are moving towards standard metadata formats (data.json, data.xml, etc) to pull all the information in the Data Reuse plan together in a machine readable format. Machine readable metadata enables cataloging of datasets on sites like Data.gov and allows others to ask questions and access your datasets using code. For example, open US government data online is required to expose a data.json in the landing page html to be listed on Data.gov, thereby facilitating data discovery. Because not all researchers are mandated to actually include data.json files, Data.gov is incomplete, and simple questions like “what is the total volume of data generated by US federally funded scientists?” are unanswerable.</p>
</blockquote>
<p>Let’s go over a few of these questions:</p>
<ol style="list-style-type: decimal">
<li>What do you think metadata is?</li>
<li>When you were choosing your dataset, did you encounter problems understanding the data?</li>
<li>If so, what would have helped you to understand?</li>
</ol>
</div>
<div id="what-are-best-practices-in-generating-metadata" class="section level3">
<h3>What Are Best Practices in Generating Metadata?</h3>
<p>Take some time to read over the first page of the <a href="https://govex.jhu.edu/">Center for Government Excellence’s</a> <a href="https://www.gitbook.com/book/centerforgov/open-data-metadata-guide/details">“Open Data Metadata Guide”</a> to get a better idea.</p>
<p>Now let’s browse through the sections for more specific best practices.</p>
<p>To review, metadata includes information about how the data was collected, succinct descriptions of the data as well as information about when it was last updated are very important to let people know if this is the right dataset for them. Once people decide to use your dataset, things like licensing and column metadata become very important. Column metadata are sometimes called data dictionaries. Here is an example: <a href="https://liberalarts.utexas.edu/redcap/_files/data_dictionary_example.jpg" class="uri">https://liberalarts.utexas.edu/redcap/_files/data_dictionary_example.jpg</a></p>
</div>
</div>
<div id="r-markdown-knitr" class="section level2">
<h2>R Markdown &amp; Knitr</h2>
<p>R Markdown makes use of Pandoc’s markdown formatting. We’ve seen a lot of the basic components to format our text so far, but to see the complete list, please visit the <a href="https://pandoc.org/MANUAL.html#pandocs-markdown">official documentation</a>.</p>
<p>Before we start, everybody can do this 10 minute tutorial on markdown: <a href="https://commonmark.org/help/tutorial/" class="uri">https://commonmark.org/help/tutorial/</a></p>
<div id="lists-tables-in-line-code" class="section level3">
<h3>Lists, Tables, In-Line Code</h3>
<div id="lists" class="section level4">
<h4>Lists</h4>
<p><strong>Unordered Lists (i.e. bullets)</strong></p>
<pre><code>- Unordered list item
    - Unordered list sub-item
- Unordered list item</code></pre>
<ul>
<li>Unordered list item
<ul>
<li>Unordered list sub-item</li>
</ul></li>
<li>Unordered list item</li>
</ul>
<p><strong>Ordered Lists (i.e. numbers)</strong></p>
<pre><code>1. Ordered list item
    1. Ordered list sub-item
    2. Ordered list sub-item
2. Ordered list item</code></pre>
<ol style="list-style-type: decimal">
<li>Ordered list item
<ol style="list-style-type: decimal">
<li>Ordered list sub-item</li>
<li>Ordered list sub-item</li>
</ol></li>
<li>Ordered list item</li>
</ol>
</div>
<div id="tables" class="section level4">
<h4>Tables</h4>
<p>The <code>knitr</code> package has a function called <code>kable</code> that helps to display tables from an <code>r</code> code chunk nicely. It is best to use <code>echo=FALSE</code> and <code>results='asis'</code>.</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, echo=FALSE, results='asis'}
library(knitr)
kable(head(mtcars))
&#96;&#96;&#96;
</code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mazda RX4</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td>Mazda RX4 Wag</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td>Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td>Hornet 4 Drive</td>
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td>Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td>Valiant</td>
<td align="right">18.1</td>
<td align="right">6</td>
<td align="right">225</td>
<td align="right">105</td>
<td align="right">2.76</td>
<td align="right">3.460</td>
<td align="right">20.22</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>You can also set the default data frame printing via the <code>df_print</code> option in your YAML metadata under <code>output</code> to do this automatically.</p>
<pre><code>---
title: Document
output:
    html_document:
        df_print:kable
---</code></pre>
</div>
<div id="in-line-code" class="section level4">
<h4>In-line Code</h4>
<p>If you want to state a value in your data in your text, it is best to reference to the actual variable or code containing that value rather than manually writing it out. Here is an example:</p>
<p><code> There are `r nrow(df)` samples in this experiment. </code></p>
</div>
</div>
<div id="images-and-figures" class="section level3">
<h3>Images and Figures</h3>
<p>To include an image, use the following syntax which will store the caption of your image and the image source to display:</p>
<pre><code>[caption for my image](path/to/image.png)</code></pre>
<p>If you would like the caption you wrote to be included underneath your image, put the following in your YAML metadata:</p>
<pre><code>---
title: Document
output:
    html_document:
        fig_caption: yes
---</code></pre>
<p>As you’ve learned in doing your assignments, both the code and output of your <code>r</code> code chunk such as figures will show up in your output document. However, using code chunk options <code>echo</code> and <code>eval</code>, you can suppress output of the code underlying a graph, and only show the resulting plot from your code or vice versa. In this case, you probably want the former, and it would look like this:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, eval=TRUE, echo=FALSE}
library(ggplot2)
qplot(mpg, wt, data=mtcars)
&#96;&#96;&#96;
</code></pre>
<p><img src="lec16-rmarkdown_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>You can also set the figure height and width too using the <code>fig.height</code> and <code>fig.width</code> options.</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, fig.width=7, fig.height=7, eval=TRUE, echo=FALSE}
library(ggplot2)  
qplot(mpg, wt, data=mtcars)
&#96;&#96;&#96;
</code></pre>
<p><img src="lec16-rmarkdown_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="in-line-citations-bibliography" class="section level3">
<h3>In-Line Citations &amp; Bibliography</h3>
<p>Pandoc can automatically generate citations and a bibliography in a number of styles. In order to use this feature, you will need to specify a bibliography file using the bibliography metadata field in a YAML metadata section. For example:</p>
<pre><code>---
title: &quot;Sample Document&quot;
output: html_document
bibliography: bibliography.bib
---</code></pre>
<p>Many bibliography formats are accepted (see the <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html">R Markdown guides</a>), such as a .bib file which many citation managers can generate for you and will hold all the references you need for your document.</p>
<p>These are some great open source reference managers you can take advantage of for managing your references, all of which make it pretty easy to export as BibTeX or .bib file:</p>
<ul>
<li><a href="https://www.zotero.org/">Zotero</a></li>
<li><a href="https://www.jabref.org/">Jabref</a></li>
<li><a href="https://www.docear.org/">Docear</a></li>
</ul>
<p>Every entry in your bibliography file should have a shorthand key id which when preceded by ‘@’ allows you to reference the citation in-line. They usually go within square brackets and are separated by semicolons.</p>
<pre><code>One Citation:
Some fact [@Smith2014]

Multiple Citations:
Statement [@Smith2014; @Logan1997].</code></pre>
<p>To make a bibliography, you may also want to specify a citation style guide to format your bibliography (in the form of a .csl file). The official repository for recognized citation styles is available <a href="https://github.com/citation-style-language/styles">here</a>. Because of the permissive licensing, you can actually customize or make your own styles too! <a href="https://editor.citationstyles.org/visualEditor/">This visual editor</a> is a great tool to modify styles to your liking. Download the file and put it somewhere you will remember and can access later. I like to keep it in the same folder as my project.</p>
<p>Once you have the correct .csl file, you can specify it in your YAML metadata as follows:</p>
<pre><code>---
title: &quot;Sample Document&quot;
output: html_document
bibliography: bibliography.bib
csl: nature.csl
---</code></pre>
</div>
<div id="footnotes" class="section level3">
<h3>Footnotes</h3>
<pre><code>This is what a footnote looks like.[^1] Here is another.[^2]

[^1]: My first footnote.
[^2]: My second footnote.

This will produce the following:</code></pre>
<p>This is what a footnote looks like.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> Here is another.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>These are great because you can reference your footnotes by name and don’t have to re-number them if things get reordered. The numbers in the rendered document will be reordered for you, by order of occurrence! From the <a href="https://pandoc.org/MANUAL.html#footnotes">Pandoc documentation</a>:</p>
<blockquote>
<p>The identifiers in footnote references may not contain spaces, tabs, or newlines. These identifiers are used only to correlate the footnote reference with the note itself; in the output, footnotes will be numbered sequentially.</p>
</blockquote>
</div>
<div id="output-formatting-options" class="section level3">
<h3>Output Formatting Options</h3>
<div id="changing-the-output-file-format" class="section level4">
<h4>Changing the output file format</h4>
<p>To change the output format of your .Rmd file, try changing the <code>output</code> metadata in the YAML header from “html_document” to “word_document”. In order to output to “pdf_document”, you need to have a LaTeX engine installed.</p>
</div>
<div id="table-of-contents" class="section level4">
<h4>Table of Contents</h4>
<p>To add a table of contents generated from the headers of your document, use the <code>toc</code> option as <code>true</code> and specify the depth of headers to list via <code>toc_depth</code> where the default is 3. These sections can also be numbered by using the <code>number_sections</code> option.</p>
<pre><code>---
title: &quot;Making TOCs&quot;
output:
    pdf_document:
        toc: true
        toc_depth: 2
        number_sections: true
---</code></pre>
</div>
<div id="figure-options" class="section level4">
<h4>Figure Options</h4>
<p>Some figure options can be set in the YAML header.</p>
<ul>
<li><code>fig_width</code> and <code>fig_height</code> can be used to control the default figure width and height (7x5 is used by default)</li>
<li><code>fig_caption</code> controls whether figures are rendered with captions</li>
</ul>
</div>
</div>
<div id="exercise" class="section level3">
<h3>Exercise</h3>
<ol style="list-style-type: decimal">
<li>Open up RStudio and make a new R Markdown file.</li>
<li>Set up the YAML metadata:
<ul>
<li>title is “Lecture 17 Exercise”</li>
<li>author (you)</li>
<li>output to html</li>
<li>make a table of contents</li>
<li>figure height and width should be set to 10</li>
</ul></li>
<li>Make a header called “Beavers Plot” and below create any simple plot using the <code>beavers</code> dataset in an R chunk where the code is suppressed, but the plot is shown.</li>
<li>Make a header called “R Markdown” and below it, recreate the following:</li>
</ol>
<ul>
<li>Fruits
<ol style="list-style-type: decimal">
<li>Apple</li>
<li><strong>Orange</strong></li>
<li>Banana</li>
<li>Tomato<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></li>
</ol></li>
<li>Vegetables
<ol style="list-style-type: decimal">
<li><em>Brussel Sprouts</em></li>
<li>Carrots</li>
</ol></li>
</ul>
<ul>
<li>First 6 rows of Iris Dataset</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<ol start="5" style="list-style-type: decimal">
<li>Now Knit the file to html and compare with your neighbour to see if you got the same output and work together to fix any issues.</li>
</ol>
<p>See the code chunk below for the <strong>solution</strong>.</p>
<pre class="markdown"><code>
---
title: "Lecture 17 Exercise"
author: "Lina Tran"
output: 
  html_document:
    fig_width: 10
    fig_height: 10
    toc: TRUE
---

# Beavers Plot

&#96;&#96;&#96;{r eval=TRUE, echo=FALSE}
library(ggplot2)
qplot(time, temp, data=beaver1)
&#96;&#96;&#96;

# R Markdown

- Fruits
    1. Apple
    2. **Orange**
    3. Banana
    4. Tomato[^3]
- Vegetables
    1. *Brussel Sprouts*
    2. Carrots

[^3]: Often confused for a vegetable

- First 6 rows of Iris Dataset

&#96;&#96;&#96;{r, asis=TRUE, echo=FALSE}
library(knitr)
kable(head(iris))
&#96;&#96;&#96;
</code></pre>
</div>
</div>
<div id="resources" class="section level2">
<h2>Resources</h2>
<ul>
<li>The <a href="https://rmarkdown.rstudio.com/lesson-1.html">R Markdown documentation</a> from RStudio can be a very helpful guide.</li>
</ul>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>My first footnote.<a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>My second footnote.<a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p>Often confused for a vegetable<a href="#fnref3" class="footnote-back">↩</a></p></li>
</ol>
</div>


<hr>

<p>This work is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. See the <a href="LICENSE.html">licensing</a> page for more details about copyright information.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
